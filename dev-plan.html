<!-- 

https://guestlab.ai/blog/10-ai-tools-to-ace-your-next-job-interview?form=MG0AV3

Ref:
    https://github.com/codemayank/reddit-clone

Developing a blog website with role-based authentication is a great project! Here's a detailed development plan:

Development Plan for MERN

1. Define Roles and Permissions

    Roles: Admin, Editor, Reader.
    Permissions:
        Admin: Full access (CRUD operations on blogs, manage users and roles).
        Editor: Create, edit, delete their blogs.
        Reader: View and comment on blogs.

2. Set Up the Tech Stack
    Frontend: React.js for building the UI.
    Backend: Node.js with Express.js for APIs.
    Database: MongoDB for storing user, blog, and role data.
    Authentication: JSON Web Token (JWT) for secure authentication.

3. Database Schema Design
    Design collections in MongoDB:
        
        Users Collection:
            id: Unique identifier.
            username: String.
            email: String.
            password: Hashed password.
            role: Reference to roles collection.

        Roles Collection:
            id: Unique identifier.
            name: Role name (e.g., Admin, Editor, Reader).

        Blogs Collection:
            id: Unique identifier.
            title: Blog title.
            content: Blog content.
            authorId: Reference to user.
            timestamp: Date of creation.

        Comments Collection:
            id: Unique identifier.
            blogId: Reference to blog.
            authorId: Reference to user.
            content: Comment text.


4. Backend Development
    Set Up the Server:
        Initialize a Node.js project.
        Install necessary dependencies (express, mongoose, bcrypt, jsonwebtoken).
        
    Routes and Controllers:
        Authentication: Routes for login, registration, and JWT token generation.
        User Management: Role assignments and CRUD operations for users.
        Blog Management: CRUD operations for blogs (with middleware for role verification).

    Middleware:
        Implement role-based access control middleware.
        Example: Allow only Admins to manage users.
                 Allow only Editors and Admins to create/edit blogs.


                 
5. Frontend Development
    Setup React:
        Create a React app with create-react-app.
        Install necessary dependencies (axios, react-router-dom, etc.).

    UI Components:
        Authentication: Login, Register, Forgot Password forms.
        Blog Management: Forms for creating/editing blogs, list of blogs with details.
        User Interface: Admin panel for managing users and roles.
    
    API Integration:
        Use Axios to connect the frontend with backend APIs.
        Store the JWT in local storage or cookies.

6. Authentication
    Use JWT:
        Upon login, generate a token and send it to the client.
        Protect routes by verifying the token on every request.
    Hash passwords using bcrypt before storing them in MongoDB.

7. Testing
    Unit Testing: Test individual functions and components.
    Integration Testing: Verify API endpoints and role-based access.
    Manual Testing: Test user flows (e.g., Admin CRUD operations, Editor blog creation, Reader comments).

8. Deployment
    Deploy the frontend using platforms like Vercel or Netlify.
    Deploy the backend on services like AWS, Heroku, or Render.
    Use MongoDB Atlas for hosting the database.

-->



<!-- 

4. Implement Authentication
    Set up user registration and login using hashed passwords (e.g., bcrypt).
    Implement JWT or OAuth for secure authentication.
    Define middleware to check user roles and permissions for protected routes.

5. Develop Features
    Blog Management:
        Admin and Editor interfaces for creating, editing, and deleting blogs.
        Readers can browse and comment on blogs.
    
    User Management:
        Admin interface for adding or removing users and assigning roles.

6. Responsive UI/UX
    Create a clean and responsive design using CSS frameworks (e.g., Bootstrap or Tailwind CSS).

7. Testing
    Perform unit testing on individual modules.
    Test authentication and role-based access control comprehensively.

8. Deployment
    Host the application on platforms like AWS, Azure, or Vercel.
    Use CI/CD pipelines for updates and maintenance. 
-->





Can you please tell me a bit about yourself?
my name is sivaranjani, i am a mern stack developer fresher


What are you looking for in your next job?
As a fresher i want to learn and explore more in every projects im going to work on


Please tell me about some of your strengths and weaknesses.
My strengths are, i am always curious about new things and i can work both independently and with team. my weaknesses
are, i expect too much perfection in my work, so it makes me finish works just before deadline ends


Describe a situation when you disagreed with someone at work. What did you do, and what was the result?
My team mate and i once ahd a dsagreement on weather to try new method of doing a work like i said or do the way senors
taught us, finally we agreed to try old way this tme and try new way next project


Tell me about a time when you delivered results despite a challenging environment or context. What was the situation,
what was your goal, and what were the results?
once i was confused to use wether the old way of doing token blacklist using mongoDB or try using redis, finally decded
to try redis and done it sucessfully











<!-- 

// Entry Point: src/index.js
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import { Provider } from 'react-redux';
import store from './redux/store';
import 'bootstrap/dist/css/bootstrap.min.css';
import 'react-toastify/dist/ReactToastify.css';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <Provider store={store}>
    <App />
  </Provider>
);

// App Router: src/App.js
import React, { useEffect } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import Login from './pages/Login';
import Register from './pages/Register';
import Blogs from './pages/Blogs';
import BlogDetail from './pages/BlogDetail';
import Dashboard from './pages/Dashboard';
import CreateBlog from './pages/CreateBlog';
import ManageUsers from './pages/ManageUsers';
import { useDispatch, useSelector } from 'react-redux';
import { fetchCurrentUser } from './redux/actions/authActions';
import ProtectedRoute from './components/ProtectedRoute';
import NavBar from './components/NavBar';
import { ToastContainer } from 'react-toastify';

function App() {
  const dispatch = useDispatch();
  const { isAuthenticated, loading } = useSelector(state => state.auth);

  useEffect(() => {
    dispatch(fetchCurrentUser());
  }, [dispatch]);

  if (loading) return <div className="text-center mt-5">Loading...</div>;

  return (
    <Router>
      <NavBar />
      <ToastContainer position="top-right" autoClose={3000} />
      <Routes>
        <Route path="/login" element={!isAuthenticated ? <Login /> : <Navigate to="/dashboard" />} />
        <Route path="/register" element={!isAuthenticated ? <Register /> : <Navigate to="/dashboard" />} />
        <Route path="/blogs" element={<Blogs />} />
        <Route path="/blogs/:id" element={<BlogDetail />} />
        <Route path="/dashboard" element={<ProtectedRoute><Dashboard /></ProtectedRoute>} />
        <Route path="/create-blog" element={<ProtectedRoute roles={["admin","editor"]}><CreateBlog /></ProtectedRoute>} />
        <Route path="/manage-users" element={<ProtectedRoute roles={["admin"]}><ManageUsers /></ProtectedRoute>} />
        <Route path="*" element={<Navigate to="/blogs" />} />
      </Routes>
    </Router>
  );
}

export default App;

// Redux: src/redux/store.js
import { createStore, combineReducers, applyMiddleware } from 'redux';
import thunk from 'redux-thunk';
import { composeWithDevTools } from 'redux-devtools-extension';
import authReducer from './reducers/authReducer';
import blogReducer from './reducers/blogReducer';
import userReducer from './reducers/userReducer';

const rootReducer = combineReducers({
  auth: authReducer,
  blogs: blogReducer,
  users: userReducer
});

const store = createStore(
  rootReducer,
  composeWithDevTools(applyMiddleware(thunk))
);

export default store;

// Redux: src/redux/actions/authActions.js
import axios from 'axios';
import { toast } from 'react-toastify';

export const login = (credentials) => async (dispatch) => {
  try {
    dispatch({ type: 'AUTH_REQUEST' });
    const res = await axios.post('/api/auth/login', credentials, { withCredentials: true });
    dispatch({ type: 'AUTH_SUCCESS', payload: res.data });
    toast.success('Login successful');
  } catch (err) {
    const message = err.response?.data?.message || 'Login failed';
    dispatch({ type: 'AUTH_FAILURE', payload: message });
    toast.error(message);
  }
};

export const register = (data) => async (dispatch) => {
  try {
    dispatch({ type: 'AUTH_REQUEST' });
    const res = await axios.post('/api/auth/register', data, { withCredentials: true });
    dispatch({ type: 'AUTH_SUCCESS', payload: res.data });
    toast.success('Registration successful');
  } catch (err) {
    const message = err.response?.data?.message || 'Registration failed';
    dispatch({ type: 'AUTH_FAILURE', payload: message });
    toast.error(message);
  }
};

export const logout = () => async (dispatch) => {
  try {
    await axios.post('/api/auth/logout', {}, { withCredentials: true });
    dispatch({ type: 'LOGOUT' });
    toast.info('Logged out');
  } catch (err) {
    console.error(err);
  }
};

export const fetchCurrentUser = () => async (dispatch) => {
  try {
    dispatch({ type: 'AUTH_REQUEST' });
    const res = await axios.get('/api/auth/me', { withCredentials: true });
    dispatch({ type: 'AUTH_SUCCESS', payload: res.data });
  } catch {
    dispatch({ type: 'LOGOUT' });
  }
};

// Redux: src/redux/reducers/authReducer.js
const initialState = {
  user: null,
  isAuthenticated: false,
  loading: false,
  error: null
};

export default function authReducer(state = initialState, action) {
  switch (action.type) {
    case 'AUTH_REQUEST':
      return { ...state, loading: true, error: null };
    case 'AUTH_SUCCESS':
      return { ...state, loading: false, isAuthenticated: true, user: action.payload };
    case 'AUTH_FAILURE':
      return { ...state, loading: false, error: action.payload };
    case 'LOGOUT':
      return { ...initialState };
    default:
      return state;
  }
}

// Components: src/components/NavBar.js
import React, { useState, useEffect } from 'react';
import { useDispatch, useSelector } from 'react-redux';
import { Link } from 'react-router-dom';
import { logout } from '../redux/actions/authActions';
import { Navbar, Nav, Container, Button, Form } from 'react-bootstrap';

const NavBar = () => {
  const dispatch = useDispatch();
  const { isAuthenticated, user } = useSelector(state => state.auth);
  const [darkMode, setDarkMode] = useState(false);

  useEffect(() => {
    document.body.className = darkMode ? 'bg-dark text-white' : '';
  }, [darkMode]);

  return (
    <Navbar bg={darkMode ? 'dark' : 'light'} variant={darkMode ? 'dark' : 'light'} expand="lg">
      <Container>
        <Navbar.Brand as={Link} to="/">MyBlog</Navbar.Brand>
        <Navbar.Toggle aria-controls="basic-navbar-nav" />
        <Navbar.Collapse id="basic-navbar-nav">
          <Nav className="me-auto">
            <Nav.Link as={Link} to="/blogs">Blogs</Nav.Link>
            {isAuthenticated && <Nav.Link as={Link} to="/dashboard">Dashboard</Nav.Link>}
            {(user?.role === 'admin' || user?.role === 'editor') && (
              <Nav.Link as={Link} to="/create-blog">Create Blog</Nav.Link>
            )}
            {user?.role === 'admin' && (
              <Nav.Link as={Link} to="/manage-users">Manage Users</Nav.Link>
            )}
          </Nav>
          <Nav>
            <Form.Check
              type="switch"
              id="dark-mode-toggle"
              label="Dark Mode"
              className="me-3"
              checked={darkMode}
              onChange={() => setDarkMode(!darkMode)}
            />
            {isAuthenticated ? (
              <>
                <Navbar.Text className="me-2">Hi, {user?.name}</Navbar.Text>
                <Button variant="outline-danger" size="sm" onClick={() => dispatch(logout())}>Logout</Button>
              </>
            ) : (
              <>
                <Nav.Link as={Link} to="/login">Login</Nav.Link>
                <Nav.Link as={Link} to="/register">Register</Nav.Link>
              </>
            )}
          </Nav>
        </Navbar.Collapse>
      </Container>
    </Navbar>
  );
};

export default NavBar;

// Components: src/components/ProtectedRoute.js
import React from 'react';
import { useSelector } from 'react-redux';
import { Navigate } from 'react-router-dom';

const ProtectedRoute = ({ children, roles }) => {
  const { isAuthenticated, user } = useSelector(state => state.auth);

  if (!isAuthenticated) return <Navigate to="/login" />;
  if (roles && !roles.includes(user?.role)) return <Navigate to="/" />;

  return children;
};

export default ProtectedRoute;


things to do:
  1. post delete should delete comments of posts automatically in db
  3. delete editors post by admin (must leave a visible message to that editor)
  4. comments delete by editor/admin (must leave a visible message to only user/author)
  7. like/dislike comments (showing counts)
  11. comments reply by admin/editor
  13. make sure redis backup access and refresht token blacklist
  18. promote user page unlimited request going


  finished: 
  current users comment should be shown at the top
  like/dislike post (showing counts)
  comment soft delete issue
  add new comment box auto hide if already commented
  navbar username not autochange
  delete category and post only show in admin panel pages
  load comments in pagnation
  redis connect to token blacklist


testreg
testreg@gmail.com
123

testrolechange1
testrolechange1@gmail.com
123
editor

testadmin1
testadmin1@gmail.com
123
admin

admin
admin@gmail.com
123
admin

testeditor1
testeditor1@gmail.com
123
editor

testreader1
testreader1@gmail.com
123
reader






Name	Email	Role	Status	Actions
testreg1	testreg1@gmail.com	reader	Active	

Reader
testrolechange1	testrolechange1@gmail.com	editor	Active	

Editor
test	test@gmail.com	reader	Active	

Reader
testreader1	testreader1@gmail.com	reader	Active	

Reader
testeditor1	testeditor1@gmail.com	editor	Active	

Editor
siva	siva@gmail.com	reader	Active	

Reader
admin	admin@gmail.com	admin	Active	

Admin
Ranjani	ranjani@gmail.com	reader	Active	

Reader
s	s@gmail.com	editor	Active	

Editor
testeditor2	testeditor2@gmail.com	editor	Active	

Editor







admin	admin@gmail.com	admin

dummy	dummy@gmail.com	reader

gayathri	gayathri@gmail.com	reader

kalai	kalai@gmail.com	reader

ranjani	ranjani@gmail.com	editor

siva	siva@gmail.com	editor



-->